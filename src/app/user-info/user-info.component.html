<form (ngSubmit)="onSubmit()">
    <div *ngFor="let user of users; let i = index">
      <label for="user_name">User Name:</label>
      <input type="text" [(ngModel)]="users[i].user_name" name="user_name">
  
      <label for="user_id">User ID:</label>
      <input type="text" [(ngModel)]="users[i].user_id" name="user_id">
  
      <label for="user_document">User Document:</label>
      <input type="file" (change)="onFileSelected($event, i)" name="user_document">
      
      <button *ngIf="i === users.length - 1" (click)="addNewForm()">Add New</button>
      
      <hr>
    </div>
  
    <button type="submit">Submit</button>
  </form>